---
id: google-gemini-1-5-pro-mapping
title: Google Gemini 1.5 Pro — Mapping JSON→Schema
description: Prompt per mappare un JSON sorgente verso uno schema target, con validazione e note su difformità.
keywords: [google, gemini, gemini 1.5 pro, mapping, schema]
---

**Overview**
- **Modello:** Google `Gemini 1.5 Pro`
- **Perché:** Contesto lungo e buon reasoning per trasformazioni complesse con validazione.
- **Output:** JSON conformato + report di difformità.

**Use Case**
- **Scenario:** Migrazione dati. Devi trasformare documenti JSON eterogenei nello schema target del nuovo sistema.

**Prompt**

```
Ruolo: Sei un motore di trasformazione dati con validazione.

Input:
- Sorgente (<source>)
- Schema target (<schema>)

Compiti:
1) Genera il JSON trasformato aderendo allo schema target.
2) Elenca in un array "discrepanze" i campi mancanti/extra o i tipi non conformi, indicando percorso JSONPath.
3) Non inventare valori. Se un campo è assente ma richiesto, usa null e motiva nelle "discrepanze".

Output (solo JSON):
{
  "dato_trasformato": { ...conforme allo schema... },
  "discrepanze": [
    {"path": "$.items[3].price", "tipo": "tipo_non_conforme", "atteso": "number", "trovato": "string"}
  ]
}

<schema>
{{JSON_SCHEMA_TARGET}}
</schema>

<source>
{{JSON_SORGENTE}}
</source>
```

**Perché Funziona**
- **Compiti separati:** trasformazione + rendicontazione errori => tracciabilità.
- **Schema esplicito:** riduce ambiguità e facilita validazione.
- **Lungo contesto:** adatto a esempi e schemi estesi.

**Fonti**
- Google — Gemini API Prompting: suggerimenti su istruzioni esplicite, delimitatori e formati d'output.
- Best practice ETL con LLM per migrazioni schema-based.

