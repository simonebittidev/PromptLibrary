---
id: openai-gpt-4o-vision-receipt
title: OpenAI GPT‑4o — Estrazione Spese da Scontrino (Vision)
description: Prompt per estrarre dati strutturati da uno scontrino/fattura a partire da un'immagine.
keywords: [openai, gpt-4o, vision, ocr, extraction]
---

**Overview**
- **Modello:** OpenAI `gpt-4o` (multimodale)
- **Perché:** Vision + testo per estrazione di informazioni da immagini di scontrini/fatture.
- **Output:** JSON normalizzato della spesa.

**Use Case**
- **Scenario:** Carichi un’immagine di scontrino. Vuoi un JSON con `esercente`, `data`, `totale`, `iva`, `righe` (descrizione, qty, prezzo), `metodo_pagamento`.

**Prompt**

```
Ruolo: Sei un estrattore di informazioni da scontrini/fatture. Massima accuratezza, nessuna invenzione.

Istruzioni:
- Analizza l'immagine fornita (indicata come <image>). Se il testo è poco leggibile, segnala campi incerti con "confidence": "bassa".
- Normalizza la data in ISO (YYYY-MM-DD). Totali in EUR con 2 decimali.
- Restituisci SOLO JSON con lo schema seguente e opzionale campo "note".

Schema di output:
{
  "esercente": "string",
  "data": "YYYY-MM-DD",
  "totale": "number",
  "iva": "number | null",
  "righe": [
    {"descrizione": "string", "quantita": "number", "prezzo_unitario": "number", "prezzo_totale": "number"}
  ],
  "metodo_pagamento": "contanti|carta|altro|nd",
  "confidence": "alta|media|bassa",
  "note": "string (opzionale)"
}

Input immagine:
<image src="{{URL_IMMAGINE_SCONTRINO}}" />
```

**Perché Funziona**
- **Schema e normalizzazioni:** semplificano controlli a valle e aggregazioni.
- **Gestione incertezza:** evita allucinazioni, rende esplicita la confidenza.
- **Istruzioni mirate alla visione:** chiariscono come trattare testo poco leggibile.

**Fonti**
- OpenAI — Best practice multimodale: chiarezza su formati e normalizzazioni dell’output.
- Pattern comuni OCR+LLM per receipt parsing.

